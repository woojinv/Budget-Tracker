const mongoose = require('mongoose');
const Schema = mongoose.Schema

const entrySchema = new Schema({
    amount: Number,
    date: Date,
    description: String
}, {
    timestamps: true
});


const budgetSchema = new Schema({
    name: String,
    budget: Number,
    userId: {type: Schema.Types.ObjectId, ref: 'User'}, // referencing the user documents
    spent: {type: Number, default: 0},
    remaining: Number,
    entries: [entrySchema], // embedded entries. One budget has many entries
    archived: {type: Boolean, default: false}
}, {
    timestamps: true
});

module.exports = mongoose.model('Budget', budgetSchema);